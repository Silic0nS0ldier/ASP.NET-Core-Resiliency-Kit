<script type="application/javascript">
// Recycles tag with fallback used upon download failure.
function fallback(sender, type, url, phoneHomeUrl) {
    // Ping home about error if requested.
    if (phoneHome) {
        var req = new XMLHttpRequest();
        req.open("POST", phoneHomeUrl, true);
        req.send(JSON.stringify({
            message: ""
        }));
    }
    // Replace initial url
    if (type == "css") sender.href = url;
    else if (type == "js") sender.src = url;
    else throw "Type unsupported";

    // Prevent loop, and log errors if requested.
    //alt onerror

    // Re-plug.
    if (sender.replaceWith) sender.replaceWith(sender);
    else sender.parentNode.replaceChild(sender, sender);
}

function fallbackFailure(sender, phoneHome) {

}
</script>